
:root{
  --bg:#121219; --panel:#1a1b24; --text:#e6e7f2; --muted:#a9abc2;
  --chip:#2a2b34; --chip-on:#7b61ff; --accent:#7b61ff;
  --ok:#1fc77e; --warn:#f0b23d; --bad:#e45a5a;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial;}
h2{margin:18px 0 10px}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:14px 18px}
.brand{font-size:26px;font-weight:800}
.ver{color:#b6a8ff}
.gold{font-weight:700}
main{max-width:980px;margin:0 auto;padding:0 14px 60px}
.panel{background:var(--panel);border-radius:14px;padding:14px;margin:12px 0;border:1px solid #2a2a3b}
.stack>*{margin:12px 0}
.row{display:flex;gap:12px;align-items:center}
.row.between{justify-content:space-between}
.grid{display:grid;gap:14px}
.grid.stats{grid-template-columns:repeat(3,minmax(0,1fr))}
.badge.level{width:42px;height:42px;border-radius:10px;background:#2a2b34;display:flex;align-items:center;justify-content:center;font-weight:800}
.xpbar{flex:1;height:10px;background:#222334;border-radius:8px;overflow:hidden;margin:0 12px}
#xpbarInner{height:100%;width:0;background:linear-gradient(90deg,#7b61ff,#5ed0ff)}

.tabbar{display:flex;justify-content:center;align-items:center;gap:14px;padding:8px 12px 0;max-width:980px;margin:0 auto;flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}
.tabbar::-webkit-scrollbar{display:none}
.tabbar .tab{white-space:nowrap;padding:10px 18px;border-radius:14px;background:#2a2b34;color:#ddd;border:1px solid #3a3950;box-shadow:inset 0 0 0 2px rgba(143,101,255,.15)}
.tabbar .tab.active{box-shadow:0 0 0 2px var(--chip-on) inset}

.tabpage{display:none}
.tabpage.active{display:block}

.filters{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:8px 0 14px}
.chip{background:var(--chip);border:1px solid #3a3950;border-radius:18px;padding:8px 14px;color:#cfd1e6}
.chip-on,.chip.chip-on{background:rgba(123,97,255,.18);box-shadow:0 0 0 2px var(--chip-on) inset}
.chip-primary{background:#7b61ff;color:#fff;border-color:#7b61ff}
.btnrow{display:flex;gap:10px;flex-wrap:wrap}
.fab{position:fixed;right:18px;bottom:18px;width:56px;height:56px;border-radius:50%;background:#7b61ff;color:#fff;border:none;font-size:28px;box-shadow:0 8px 30px rgba(0,0,0,.4)}
.timer{font-size:32px;margin:8px 0}

.quest{background:var(--panel);padding:16px;border-radius:18px;border:1px solid #2a2a3b}
.quest .title{font-weight:800;font-size:22px;margin-bottom:6px}
.quest .meta{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
.quest .progress{height:6px;background:#242636;border-radius:6px;overflow:hidden;margin:6px 0}
.quest .progress > div{height:6px;background:#7b61ff;width:0}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:center;justify-content:center}
.modal.hidden{display:none}
.modal-card{width:min(720px,92vw);background:var(--panel);border:1px solid #2a2a3b;border-radius:18px;padding:16px}
.modal-title{font-weight:800;font-size:20px;margin-bottom:8px}
.form label{display:block;margin:10px 0 6px;color:var(--muted)}
.form input,.form select{width:100%;padding:10px;border-radius:10px;border:1px solid #383a52;background:#20222e;color:#e6e7f2}
.modal-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:12px}

.todo{display:flex;gap:8px;align-items:center;margin:6px 0}
.todo input{accent-color:#7b61ff}
.muted{color:var(--muted)}
